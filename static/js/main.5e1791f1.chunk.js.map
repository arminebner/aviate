{"version":3,"sources":["global/DataContext.js","audio/flyby.mp3","img/Icons/airplane.svg","img/logos/opensky.png","img/logos/planespotters.png","img/logos/meteoblue.svg","img/logos/openweather.png","components/pages/Landing.js","img/Icons/airport2.svg","img/Icons/airplane-selected.svg","img/Icons/compass_360.svg","components/function/OwnIcon.js","components/function/Weather.js","components/function/MapElement.js","img/logos/garmin.svg","img/Icons/ajax-loader.gif","img/fullHD/placeholder-aircraft.png","components/function/Dashboard.js","img/Icons/departure.svg","img/Icons/arrival.svg","components/function/DashboardAirport.js","components/function/Menu.js","components/pages/MapPage.js","App.js","reportWebVitals.js","index.js"],"names":["DataContext","createContext","DataProvider","props","useState","selectedTraffic","setSelectedTraffic","traffic","setTraffic","airport","setAirport","showAirports","setShowAirports","location","setLocation","nearestAirports","setNearestAirports","locationChanged","setLocationChanged","picture","setPicture","showWindMap","setShowWindMap","follow","setFollow","showCompass","setShowCompass","depHistory","setDepHistory","arrHistory","setArrHistory","flightHistory","setFlightHistory","showArrHistory","setShowArrHistory","showDepHistory","setShowDepHistory","showFlightHistory","setShowFlightHistory","Provider","value","selectedAircraft","allTraffic","selectedAirport","airportIcons","newLocation","nearest","change","aircraftImage","winddata","followMode","history","compass","departures","showDepartures","arrivals","showArrivals","showPastFlights","children","Landing","intro","setup","page","setPage","airportInput","setAirportInput","animate","setAnimate","useEffect","setTimeout","redirect","document","getElementsByClassName","play","window","href","convertGeoPosition","position","latitude","coords","longitude","localStorage","setItem","JSON","stringify","findNearestAirports","roundedLat","Math","round","roundedLong","roundedLatArr_roundedLong","airports","filter","item","pageTransition","duration","exitBeforeEnter","className","src","flybySfx","div","opacity","initial","exit","transition","OpenSkyLogo","alt","PlanespottersLogo","OpenWeatherLogo","MeteoblueLogo","planeIcon","onChange","e","airportTemp","target","toUpperCase","type","placeholder","onClick","preventDefault","items","icao","navigator","geolocation","getCurrentPosition","alert","OwnIcon","track","renderTrack","transform","airplane","width","style","CustomAirportIcon","name","airportIcon","CompassRose","compassRose","Weather","frameborder","scrolling","allowtransparency","sandbox","height","title","rel","MapElement","useContext","lamin","setLamin","lamax","setLamax","lomin","setLomin","lomax","setLomax","firstPaint","setFirstPaint","setApiBorders","selectedLocation","parse","getItem","url","useSWR","revalidateOnFocus","fetcher","fetch","then","response","json","responseJson","states","refreshInterval","data","error","ChangeCenter","map","useMap","setView","MapContainer","scale","center","zoom","CircleMarker","radius","Marker","icon","L","html","ReactDOMServer","renderToString","TileLayer","attribution","aircraft","iconTrack","iconSize","iconAnchor","eventHandlers","click","index","Dashboard","setNearestAirport","photographer","setPhotographer","link","setLink","maximized","setMaximized","setHistoryLoading","firstSeen","lastSeen","estDepartureAirport","estArrivalAirport","tempFlightHistory","myHeaders","Headers","append","process","console","log","hexCode","requestOptions","method","headers","result","resJson","photos","thumbnail_large","catch","returnUpdated","undefined","closeHandler","changeLocation","newDest","arminLogo","placeholderImage","toFixed","ceil","flight","Date","toLocaleDateString","loader","begin","floor","getTime","end","header","Authorization","btoa","REACT_APP_OPEN_SKY","fetchHistory","DashboardAirport","weather","setWeather","callsign","tempHistory","city","fetchWeather","description","main","temp","feels_like","pressure","visibility","wind","deg","speed","sys","sunrise","sunset","country","iata","altitude","fetchArrHistory","arrivalIcon","fetchDepHistory","departureIcon","Menu","timer","setTimer","setTime","time","setInterval","MapPage","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e1791f1.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react'\n\nexport const DataContext = createContext()\n\nexport const DataProvider = props => {\n\tconst [selectedTraffic, setSelectedTraffic] = useState(false)\n\tconst [traffic, setTraffic] = useState([])\n\tconst [airport, setAirport] = useState('')\n\tconst [showAirports, setShowAirports] = useState(false)\n\tconst [location, setLocation] = useState(null)\n\tconst [nearestAirports, setNearestAirports] = useState(null)\n\tconst [locationChanged, setLocationChanged] = useState(false)\n\tconst [picture, setPicture] = useState(null)\n\tconst [showWindMap, setShowWindMap] = useState(false)\n\tconst [follow, setFollow] = useState(false)\n\tconst [showCompass, setShowCompass] = useState(false)\n\tconst [depHistory, setDepHistory] = useState(null)\n\tconst [arrHistory, setArrHistory] = useState(null)\n\tconst [flightHistory, setFlightHistory] = useState(null)\n\tconst [showArrHistory, setShowArrHistory] = useState(false)\n\tconst [showDepHistory, setShowDepHistory] = useState(false)\n\tconst [showFlightHistory, setShowFlightHistory] = useState(false)\n\n\treturn (\n\t\t<DataContext.Provider\n\t\t\tvalue={{\n\t\t\t\tselectedAircraft: [selectedTraffic, setSelectedTraffic],\n\t\t\t\tallTraffic: [traffic, setTraffic],\n\t\t\t\tselectedAirport: [airport, setAirport],\n\t\t\t\tairportIcons: [showAirports, setShowAirports],\n\t\t\t\tnewLocation: [location, setLocation],\n\t\t\t\tnearest: [nearestAirports, setNearestAirports],\n\t\t\t\tchange: [locationChanged, setLocationChanged],\n\t\t\t\taircraftImage: [picture, setPicture],\n\t\t\t\twinddata: [showWindMap, setShowWindMap],\n\t\t\t\tfollowMode: [follow, setFollow],\n\t\t\t\thistory: [flightHistory, setFlightHistory],\n\t\t\t\tcompass: [showCompass, setShowCompass],\n\t\t\t\tdepartures: [depHistory, setDepHistory],\n\t\t\t\tshowDepartures: [showDepHistory, setShowDepHistory],\n\t\t\t\tarrivals: [arrHistory, setArrHistory],\n\t\t\t\tshowArrivals: [showArrHistory, setShowArrHistory],\n\t\t\t\tshowPastFlights: [showFlightHistory, setShowFlightHistory],\n\t\t\t}}>\n\t\t\t{props.children}\n\t\t</DataContext.Provider>\n\t)\n}\n","export default __webpack_public_path__ + \"static/media/flyby.4757a770.mp3\";","export default __webpack_public_path__ + \"static/media/airplane.cea70e0f.svg\";","export default __webpack_public_path__ + \"static/media/opensky.82bd6fb5.png\";","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/meteoblue.2c7e86c5.svg\";","export default __webpack_public_path__ + \"static/media/openweather.35e5a10f.png\";","import React, { useState, useEffect } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport airports from 'airport-data'\nimport flybySfx from '../../audio/flyby.mp3'\nimport planeIcon from '../../img/Icons/airplane.svg'\nimport '../css/landing.css'\nimport OpenSkyLogo from '../../img/logos/opensky.png'\nimport PlanespottersLogo from '../../img/logos/planespotters.png'\nimport MeteoblueLogo from '../../img/logos/meteoblue.svg'\nimport OpenWeatherLogo from '../../img/logos/openweather.png'\n\nconst Landing = () => {\n\tconst [page, setPage] = useState({ intro: true, setup: false })\n\tconst [airportInput, setAirportInput] = useState(null)\n\tconst [animate, setAnimate] = useState(false)\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetPage({ intro: false, setup: true })\n\t\t}, 2000)\n\t}, [])\n\n\tconst redirect = () => {\n\t\tconst audioEl = document.getElementsByClassName('audio-element')[0]\n\t\taudioEl.play()\n\t\tsetTimeout(() => {\n\t\t\twindow.location.href = '/map'\n\t\t}, 4000)\n\t}\n\n\tconst airportUserInput = e => {\n\t\tconst airportTemp = e.target.value.toUpperCase()\n\t\tsetAirportInput(airportTemp)\n\t}\n\n\tconst airportSet = e => {\n\t\te.preventDefault()\n\t\tif (airportInput) {\n\t\t\tconst [location] = airports.filter(\n\t\t\t\titems => items.icao === airportInput\n\t\t\t)\n\t\t\tlocalStorage.setItem('selectedLocation', JSON.stringify(location))\n\t\t\tfindNearestAirports(location)\n\t\t\tsetAnimate(true)\n\t\t\tredirect()\n\t\t}\n\t}\n\n\tconst useGeoPosition = () => {\n\t\tif (navigator.geolocation) {\n\t\t\tnavigator.geolocation.getCurrentPosition(convertGeoPosition)\n\t\t\tsetAnimate(true)\n\t\t\tredirect()\n\t\t} else {\n\t\t\talert('could not retrieve geolocation')\n\t\t}\n\t}\n\n\tconst convertGeoPosition = location => {\n\t\tconst position = {\n\t\t\tlatitude: location.coords.latitude,\n\t\t\tlongitude: location.coords.longitude,\n\t\t}\n\t\tlocalStorage.setItem('selectedLocation', JSON.stringify(position))\n\t\tfindNearestAirports(position)\n\t}\n\n\tconst findNearestAirports = location => {\n\t\t//round numbers to closest integer\n\t\tconst roundedLat = Math.round(location.latitude)\n\t\tconst roundedLong = Math.round(location.longitude)\n\n\t\t//round lat and filter with rounded long\n\t\tconst roundedLatArr = airports.filter(\n\t\t\titem => Math.round(item.latitude) === roundedLat\n\t\t)\n\t\tconst roundedLatArr_roundedLong = roundedLatArr.filter(\n\t\t\titem => Math.round(item.longitude) === roundedLong\n\t\t)\n\t\tlocalStorage.setItem(\n\t\t\t'nearestAirports',\n\t\t\tJSON.stringify(roundedLatArr_roundedLong)\n\t\t)\n\t}\n\n\tconst pageTransition = {\n\t\tduration: 1,\n\t}\n\n\treturn (\n\t\t<AnimatePresence exitBeforeEnter>\n\t\t\t<audio className='audio-element'>\n\t\t\t\t<source src={flybySfx}></source>\n\t\t\t</audio>\n\t\t\t{page.intro && (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={1}\n\t\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\t\tinitial={{ opacity: 0.3 }}\n\t\t\t\t\texit={{ opacity: 0.1 }}\n\t\t\t\t\ttransition={pageTransition}>\n\t\t\t\t\t<div className='intro'>\n\t\t\t\t\t\t<div className='logo-box'>\n\t\t\t\t\t\t\t<h1>Aviate</h1>\n\t\t\t\t\t\t\t<h2>...live</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='landing-footer'>\n\t\t\t\t\t\t\t<h3>powered by</h3>\n\t\t\t\t\t\t\t<div className='logo-container'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={OpenSkyLogo}\n\t\t\t\t\t\t\t\t\talt='logo from open sky network'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={PlanespottersLogo}\n\t\t\t\t\t\t\t\t\talt='logo from planespotters.net'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={OpenWeatherLogo}\n\t\t\t\t\t\t\t\t\talt='logo from openweathermap'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={MeteoblueLogo}\n\t\t\t\t\t\t\t\t\talt='logo from meteoblue.net'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</motion.div>\n\t\t\t)}\n\n\t\t\t{page.setup && (\n\t\t\t\t<motion.div\n\t\t\t\t\tkey={2}\n\t\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\t\tinitial={{ opacity: 0.1 }}\n\t\t\t\t\texit={{ opacity: 0.5 }}\n\t\t\t\t\ttransition={pageTransition}>\n\t\t\t\t\t<div className='setup'>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={planeIcon}\n\t\t\t\t\t\t\tclassName={`login-icon ${\n\t\t\t\t\t\t\t\tanimate ? 'logo-icon-anim' : ''\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\talt='plane icon'></img>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={planeIcon}\n\t\t\t\t\t\t\tclassName={`login-icon2 ${\n\t\t\t\t\t\t\t\tanimate ? 'logo-icon-anim2' : ''\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\talt='plane icon'></img>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={planeIcon}\n\t\t\t\t\t\t\tclassName={`login-icon3 ${\n\t\t\t\t\t\t\t\tanimate ? 'logo-icon-anim3' : ''\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\talt='plane icon'></img>\n\t\t\t\t\t\t<div className='setup-box'>\n\t\t\t\t\t\t\t<h2>welcome</h2>\n\t\t\t\t\t\t\t<p className='upper-p'>set your airport (icao)</p>\n\t\t\t\t\t\t\t<form className='set-airport-form'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName='set-airport-input'\n\t\t\t\t\t\t\t\t\tonChange={airportUserInput}\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tplaceholder='e.g. EDDK'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='set-airport-button'\n\t\t\t\t\t\t\t\t\tonClick={airportSet}\n\t\t\t\t\t\t\t\t\ttype='submit'>\n\t\t\t\t\t\t\t\t\tset Airport\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<p className='lower-p' onClick={useGeoPosition}>\n\t\t\t\t\t\t\t\tJust show me planes, pls!\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='setup-footer'>\n\t\t\t\t\t\t\t<h3>powered by</h3>\n\t\t\t\t\t\t\t<div className='logo-container'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={OpenSkyLogo}\n\t\t\t\t\t\t\t\t\talt='logo from open sky network'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={PlanespottersLogo}\n\t\t\t\t\t\t\t\t\talt='logo from planespotters.net'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={OpenWeatherLogo}\n\t\t\t\t\t\t\t\t\talt='logo from openweathermap'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={MeteoblueLogo}\n\t\t\t\t\t\t\t\t\talt='logo from meteoblue.net'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</motion.div>\n\t\t\t)}\n\t\t</AnimatePresence>\n\t)\n}\n\nexport default Landing\n","export default __webpack_public_path__ + \"static/media/airport2.fe5ca9d2.svg\";","export default __webpack_public_path__ + \"static/media/airplane-selected.821668a3.svg\";","export default __webpack_public_path__ + \"static/media/compass_360.134f2280.svg\";","import React from 'react'\nimport '../css/own-icon.css'\nimport airplane from '../../img/Icons/airplane.svg'\nimport airplaneSelected from '../../img/Icons/airplane-selected.svg'\nimport airportIcon from '../../img/Icons/airport2.svg'\nimport compassRose from '../../img/Icons/compass_360.svg'\n\nexport const OwnIcon = ({ track }) => {\n\tconst renderTrack = {\n\t\ttransform: `rotate(${track}deg)`,\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<img\n\t\t\t\tsrc={airplane}\n\t\t\t\twidth='30px'\n\t\t\t\tstyle={renderTrack}\n\t\t\t\talt='airplane icon'></img>\n\t\t</div>\n\t)\n}\n\nexport const OwnSelectedIcon = ({ track }) => {\n\tconst renderTrack = {\n\t\ttransform: `rotate(${track}deg)`,\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<img\n\t\t\t\tsrc={airplaneSelected}\n\t\t\t\twidth='100px'\n\t\t\t\tstyle={renderTrack}\n\t\t\t\talt='airplane icon'></img>\n\t\t</div>\n\t)\n}\n\nexport const CustomAirportIcon = ({ name }) => {\n\treturn (\n\t\t<div className='icon-container'>\n\t\t\t<img\n\t\t\t\tclassName='icon-airport'\n\t\t\t\tsrc={airportIcon}\n\t\t\t\twidth='40px'\n\t\t\t\talt='airport icon'></img>\n\t\t\t<hr className='line-separator' />\n\t\t\t<div className='icon-name'>{name}</div>\n\t\t</div>\n\t)\n}\n\nexport const CompassRose = () => {\n\treturn (\n\t\t<div>\n\t\t\t<img\n\t\t\t\tclassName='compass-rose'\n\t\t\t\tsrc={compassRose}\n\t\t\t\talt='airport icon'></img>\n\t\t</div>\n\t)\n}\n\n//export default OwnIcon\n","import React from 'react'\nimport '../css/weather.css'\n\nconst Weather = () => {\n\treturn (\n\t\t<div className='weather-container'>\n\t\t\t<iframe\n\t\t\t\tsrc='https://www.meteoblue.com/en/weather/maps/widget?windAnimation=0&windAnimation=1&gust=0&gust=1&satellite=0&satellite=1&coronaWeatherScore=0&coronaWeatherScore=1&geoloc=detect&tempunit=C&windunit=km%252Fh&lengthunit=metric&zoom=10&autowidth=auto'\n\t\t\t\tframeborder='0'\n\t\t\t\tscrolling='NO'\n\t\t\t\tallowtransparency='true'\n\t\t\t\tsandbox='allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox'\n\t\t\t\tstyle={{ width: '20vw', height: '40vh' }}\n\t\t\t\ttitle='meteoblue'></iframe>\n\t\t\t<div className='meteo-link'>\n\t\t\t\t<a\n\t\t\t\t\thref='https://www.meteoblue.com/en/weather/webmap/beta?utm_source=weather_widget&utm_medium=linkus&utm_content=map&utm_campaign=Weather%2BWidget'\n\t\t\t\t\ttarget='_blank'\n\t\t\t\t\trel='noreferrer'>\n\t\t\t\t\tmeteoblue\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Weather\n","import React, { useContext, useEffect, useState } from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport {\n\tMapContainer,\n\tMarker,\n\tTileLayer,\n\tuseMap,\n\tLayersControl,\n\tCircleMarker,\n\tCircle,\n} from 'react-leaflet'\nimport {\n\tOwnIcon,\n\tOwnSelectedIcon,\n\tCustomAirportIcon,\n\tCompassRose,\n} from './OwnIcon'\nimport * as L from 'leaflet'\nimport useSWR from 'swr'\nimport { DataContext } from '../../global/DataContext'\nimport Weather from '../function/Weather'\nimport '../css/mapelement.css'\n\nconst MapElement = () => {\n\tconst {\n\t\tselectedAircraft,\n\t\tallTraffic,\n\t\tairportIcons,\n\t\tnewLocation,\n\t\tnearest,\n\t\tchange,\n\t\taircraftImage,\n\t\twinddata,\n\t\tselectedAirport,\n\t\tfollowMode,\n\t\thistory,\n\t\tcompass,\n\t\tdepartures,\n\t\tarrivals,\n\t\tshowArrivals,\n\t\tshowDepartures,\n\t\tshowPastFlights,\n\t} = useContext(DataContext)\n\tconst [selectedTraffic, setSelectedTraffic] = selectedAircraft\n\tconst [traffic, setTraffic] = allTraffic\n\tconst [showAirports, setShowAirports] = airportIcons\n\tconst [location, setLocation] = newLocation\n\tconst [nearestAirports, setNearestAirports] = nearest\n\tconst [locationChanged, setLocationChanged] = change\n\tconst [picture, setPicture] = aircraftImage\n\tconst [lamin, setLamin] = useState()\n\tconst [lamax, setLamax] = useState()\n\tconst [lomin, setLomin] = useState()\n\tconst [lomax, setLomax] = useState()\n\tconst [firstPaint, setFirstPaint] = useState(true)\n\tconst [showWindMap, setShowWindMap] = winddata\n\tconst [airport, setAirport] = selectedAirport\n\tconst [selected, setSelected] = useState(false)\n\tconst [follow, setFollow] = followMode\n\tconst [flightHistory, setFlightHistory] = history\n\tconst [showCompass, setShowCompass] = compass\n\tconst [depHistory, setDepHistory] = departures\n\tconst [arrHistory, setArrHistory] = arrivals\n\tconst [showArrHistory, setShowArrHistory] = showArrivals\n\tconst [showDepHistory, setShowDepHistory] = showDepartures\n\tconst [showFlightHistory, setShowFlightHistory] = showPastFlights\n\n\tconst setApiBorders = location => {\n\t\tsetLamin(location.latitude - 3)\n\t\tsetLamax(location.latitude + 3)\n\t\tsetLomin(location.longitude - 3)\n\t\tsetLomax(location.longitude + 3)\n\t}\n\n\tif (firstPaint) {\n\t\t//get location-data from local-storage\n\t\tconst selectedLocation = JSON.parse(\n\t\t\tlocalStorage.getItem('selectedLocation')\n\t\t)\n\t\tsetLocation(selectedLocation)\n\t\tsetApiBorders(selectedLocation)\n\t\t//get surrounding airports from local storage\n\t\tconst nearestAirports = JSON.parse(\n\t\t\tlocalStorage.getItem('nearestAirports')\n\t\t)\n\t\tsetNearestAirports(nearestAirports)\n\t\tsetFirstPaint(false)\n\t}\n\n\tconst fetcher = (...args) => {\n\t\tfetch(...args)\n\t\t\t.then(response => response.json())\n\t\t\t.then(responseJson => setTraffic(responseJson.states))\n\t}\n\n\tconst url = `https://opensky-network.org/api/states/all?lamin=${lamin}&lomin=${lomin}&lamax=${lamax}&lomax=${lomax}`\n\tconst { data, error } = useSWR(url, {\n\t\trevalidateOnFocus: false,\n\t\tfetcher,\n\t\trefreshInterval: 20000,\n\t})\n\n\tconst getIcon = iconTrack =>\n\t\tL.divIcon({\n\t\t\ticonSize: [40, 40],\n\t\t\ticonAnchor: [20, 20],\n\t\t\thtml: ReactDOMServer.renderToString(<OwnIcon track={iconTrack} />),\n\t\t\tclassName: 'custom-icon',\n\t\t})\n\n\tconst getAirportIcon = name =>\n\t\tL.divIcon({\n\t\t\thtml: ReactDOMServer.renderToString(\n\t\t\t\t<CustomAirportIcon name={name} />\n\t\t\t),\n\t\t\tclassName: 'custom-icon',\n\t\t})\n\n\tconst getCompass = () =>\n\t\tL.divIcon({\n\t\t\thtml: ReactDOMServer.renderToString(<CompassRose />),\n\t\t\tclassName: 'custom-icon',\n\t\t})\n\n\tfunction ChangeCenter() {\n\t\tconst map = useMap()\n\t\t//L.control.scale().addTo(map)\n\t\tif (locationChanged) {\n\t\t\tmap.setView([location.latitude, location.longitude])\n\t\t\tsetApiBorders(location)\n\t\t\tsetLocationChanged(false)\n\t\t}\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{location && nearestAirports ? (\n\t\t\t\t//onClick funnction here to set setSelectedIcon to false\n\t\t\t\t<MapContainer\n\t\t\t\t\tscale='bottom-left'\n\t\t\t\t\tclassName='leaflet-container'\n\t\t\t\t\tcenter={[location.latitude, location.longitude]}\n\t\t\t\t\tzoom={12}>\n\t\t\t\t\t<ChangeCenter />\n\t\t\t\t\t{follow ? (\n\t\t\t\t\t\t<CircleMarker\n\t\t\t\t\t\t\tcenter={[location.latitude, location.longitude]}\n\t\t\t\t\t\t\tradius={50}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\tposition={[location.latitude, location.longitude]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{showCompass ? (\n\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\tposition={[location.latitude, location.longitude]}\n\t\t\t\t\t\t\ticon={getCompass()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t''\n\t\t\t\t\t)}\n\t\t\t\t\t<TileLayer\n\t\t\t\t\t\tattribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n\t\t\t\t\t\turl='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n\t\t\t\t\t/>\n\n\t\t\t\t\t{traffic\n\t\t\t\t\t\t? traffic.map(aircraft => (\n\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\tkey={aircraft[0]}\n\t\t\t\t\t\t\t\t\tposition={[aircraft[6], aircraft[5]]}\n\t\t\t\t\t\t\t\t\t//change width of icon when a icon is clicked on\n\t\t\t\t\t\t\t\t\t//give width to getIcon function as a prop - but then all icons get bigger\n\t\t\t\t\t\t\t\t\t//transfer id as prop as well to specifiy?\n\t\t\t\t\t\t\t\t\ticon={getIcon(aircraft[10])}\n\t\t\t\t\t\t\t\t\teventHandlers={{\n\t\t\t\t\t\t\t\t\t\tclick: e => {\n\t\t\t\t\t\t\t\t\t\t\tsetFollow(false)\n\t\t\t\t\t\t\t\t\t\t\tsetShowFlightHistory(false)\n\t\t\t\t\t\t\t\t\t\t\tsetFlightHistory(null)\n\t\t\t\t\t\t\t\t\t\t\tsetAirport(false)\n\t\t\t\t\t\t\t\t\t\t\tsetPicture(null)\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedTraffic(aircraft)\n\t\t\t\t\t\t\t\t\t\t\t//setSelected(true)\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: 'loading traffic'}\n\t\t\t\t\t{showAirports\n\t\t\t\t\t\t? nearestAirports.map((airport, index) => (\n\t\t\t\t\t\t\t\t<Marker\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tposition={[\n\t\t\t\t\t\t\t\t\t\tairport.latitude,\n\t\t\t\t\t\t\t\t\t\tairport.longitude,\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\ticon={getAirportIcon(airport.name)}\n\t\t\t\t\t\t\t\t\teventHandlers={{\n\t\t\t\t\t\t\t\t\t\tclick: e => {\n\t\t\t\t\t\t\t\t\t\t\tsetShowDepHistory(false)\n\t\t\t\t\t\t\t\t\t\t\tsetShowArrHistory(false)\n\t\t\t\t\t\t\t\t\t\t\tsetArrHistory(null)\n\t\t\t\t\t\t\t\t\t\t\tsetDepHistory(null)\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedTraffic(false)\n\t\t\t\t\t\t\t\t\t\t\tsetAirport(airport)\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t  ))\n\t\t\t\t\t\t: 'loading airports'}\n\t\t\t\t\t{showWindMap ? <Weather /> : ''}\n\t\t\t\t</MapContainer>\n\t\t\t) : (\n\t\t\t\t'loading'\n\t\t\t)}\n\t\t</>\n\t)\n}\nexport default MapElement\n","export default __webpack_public_path__ + \"static/media/garmin.add3fe59.svg\";","export default \"data:image/gif;base64,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\"","export default __webpack_public_path__ + \"static/media/placeholder-aircraft.fc959d66.png\";","import React, { useState, useContext, useEffect } from 'react'\nimport { DataContext } from '../../global/DataContext'\nimport airports from 'airport-data'\nimport '../css/dashboard.css'\nimport arminLogo from '../../img/logos/garmin.svg'\nimport loader from '../../img/Icons/ajax-loader.gif'\nimport placeholderImage from '../../img/fullHD/placeholder-aircraft.png'\n\nconst Dashboard = () => {\n\tconst {\n\t\tselectedAircraft,\n\t\tallTraffic,\n\t\taircraftImage,\n\t\tnewLocation,\n\t\tnearest,\n\t\tchange,\n\t\tfollowMode,\n\t\thistory,\n\t\tshowPastFlights,\n\t} = useContext(DataContext)\n\tconst [selectedTraffic, setSelectedTraffic] = selectedAircraft\n\tconst [traffic, setTraffic] = allTraffic\n\tconst [picture, setPicture] = aircraftImage\n\tconst [location, setLocation] = newLocation\n\tconst [nearestAirport, setNearestAirport] = nearest\n\tconst [locationChanged, setLocationChanged] = change\n\tconst [follow, setFollow] = followMode\n\tconst [flightHistory, setFlightHistory] = history\n\tconst [photographer, setPhotographer] = useState('')\n\tconst [link, setLink] = useState('')\n\tconst [showFlightHistory, setShowFlightHistory] = showPastFlights\n\tconst [maximized, setMaximized] = useState(true)\n\tconst [historyLoading, setHistoryLoading] = useState(false)\n\tconst [tempFlightHistory, showTempFlightHistory] = useState([\n\t\t{\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'EDDK',\n\t\t\testArrivalAirport: 'EHAM',\n\t\t},\n\t\t{\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'EDDF',\n\t\t\testArrivalAirport: 'KORD',\n\t\t},\n\t\t{\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'KJFK',\n\t\t\testArrivalAirport: 'ZGSZ',\n\t\t},\n\t])\n\n\tuseEffect(() => {\n\t\tlet myHeaders = new Headers()\n\t\tmyHeaders.append('x-auth-token', process.env.REACT_APP_ACCESS_TOKEN)\n\t\tconsole.log(tempFlightHistory)\n\n\t\tlet requestOptions = {\n\t\t\tmethod: 'GET',\n\t\t\theaders: myHeaders,\n\t\t}\n\n\t\tconst fetchPicture = hexCode => {\n\t\t\tfetch(\n\t\t\t\t`https://api.planespotters.net/v1/photos/hex/${hexCode}`,\n\t\t\t\trequestOptions\n\t\t\t)\n\t\t\t\t.then(result => result.json())\n\t\t\t\t.then(resJson => [\n\t\t\t\t\tsetPhotographer(resJson.photos[0].photographer),\n\t\t\t\t\tsetPicture(resJson.photos[0].thumbnail_large.src),\n\t\t\t\t\tsetLink(resJson.photos[0].link),\n\t\t\t\t])\n\t\t\t\t.catch(error => console.log('error', error))\n\t\t}\n\t\tfetchPicture(selectedTraffic[0])\n\t}, [selectedTraffic])\n\n\tconst returnUpdated = () => {\n\t\t//here bugfix for transponder to off-position ((selectedTraffic &&  selectedTraffic[0][1] != undefined or so ))\n\t\tif (selectedTraffic && selectedTraffic[1] !== undefined) {\n\t\t\tlet updatedTemp = traffic.filter(\n\t\t\t\taircraft => aircraft[0] === selectedTraffic[0]\n\t\t\t)\n\t\t\treturn updatedTemp\n\t\t}\n\t\t//here bugfix for transponder to off-position (elseif (!selectedTraffic || selectedTraffic[0] === undefined ))\n\t\telse {\n\t\t\tlet initialTemp = [\n\t\t\t\t[1, 0],\n\t\t\t\t[2, 0],\n\t\t\t\t[9, 0],\n\t\t\t\t[10, 0],\n\t\t\t\t[13, 0],\n\t\t\t]\n\t\t\treturn initialTemp\n\t\t}\n\t}\n\n\tconst closeHandler = () => {\n\t\tsetSelectedTraffic(false)\n\t\tsetFollow(false)\n\t\tsetMaximized(true)\n\t\t//setPicture(null) to placeholder-image\n\t}\n\n\tconst maximizeHandler = () => {\n\t\tsetMaximized(false)\n\t}\n\n\tconst glareshieldToggleHandler = () => {\n\t\tsetMaximized(true)\n\t}\n\n\tconst fetchHistory = hexCode => {\n\t\tsetHistoryLoading(true)\n\t\tlet begin = Math.floor(new Date().getTime() / 1000.0) - 259200\n\t\tlet end = Math.floor(new Date().getTime() / 1000.0)\n\t\tconsole.log('getHistory')\n\t\tconsole.log(hexCode)\n\t\tsetShowFlightHistory(true)\n\n\t\tconst header = {\n\t\t\tAuthorization: `Basic ${btoa(process.env.REACT_APP_OPEN_SKY)}`,\n\t\t}\n\n\t\tfetch(\n\t\t\t`https://opensky-network.org/api/flights/aircraft?icao24=${hexCode}&begin=${begin}&end=${end}`,\n\t\t\theader\n\t\t)\n\t\t\t.then(result => result.json())\n\t\t\t.then(resJson => setFlightHistory(resJson))\n\t\t\t.catch(error => console.log('error', error))\n\t}\n\n\tconst changeLocation = newDest => {\n\t\tcloseHandler()\n\t\tconst [location] = airports.filter(items => items.icao === newDest)\n\t\tsetLocation(location)\n\t\tsetLocationChanged(true)\n\t\tfindNearestAirports(location)\n\t}\n\n\tconst findNearestAirports = location => {\n\t\tconst roundedLat = Math.round(location.latitude)\n\t\tconst roundedLong = Math.round(location.longitude)\n\t\tconst roundedLatArr = airports.filter(\n\t\t\titem => Math.round(item.latitude) === roundedLat\n\t\t)\n\t\tconst roundedLatArr_roundedLong = roundedLatArr.filter(\n\t\t\titem => Math.round(item.longitude) === roundedLong\n\t\t)\n\t\tsetNearestAirport(roundedLatArr_roundedLong)\n\t}\n\n\tuseEffect(() => {\n\t\tif (follow) {\n\t\t\tconst location = {\n\t\t\t\tlatitude: returnUpdated()[0][6],\n\t\t\t\tlongitude: returnUpdated()[0][5],\n\t\t\t}\n\t\t\tsetLocation(location)\n\t\t\tsetLocationChanged(true)\n\t\t}\n\t}, [traffic])\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`dashboard-container ${\n\t\t\t\tselectedTraffic && maximized ? 'showing' : ''\n\t\t\t}`}>\n\t\t\t<div\n\t\t\t\tonClick={glareshieldToggleHandler}\n\t\t\t\tclassName={`glareshield ${\n\t\t\t\t\t!maximized ? 'glareshield-showing' : ''\n\t\t\t\t}`}>\n\t\t\t\textend\n\t\t\t</div>\n\t\t\t<div className='dashboard'>\n\t\t\t\t<div className='dashboard-data'>\n\t\t\t\t\t<div className='general-data'>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref='https://www.arminebner.com'\n\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\trel='noreferrer'>\n\t\t\t\t\t\t\t<div className='armin-logo'>\n\t\t\t\t\t\t\t\tAvionics by:\n\t\t\t\t\t\t\t\t<img src={arminLogo} alt='armin-logo' />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div className='aircraft-image'>\n\t\t\t\t\t\t\t<a href={link}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={picture ? picture : placeholderImage}\n\t\t\t\t\t\t\t\t\talt='none available'\n\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\trel='noreferrer'></img>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t{picture ? (\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t&copy;{photographer} |{' '}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref='https://www.planespotters.net/'\n\t\t\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t\t\trel='noreferrer'>\n\t\t\t\t\t\t\t\t\t\tPlanespotters.net\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{follow ? (\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tonClick={e => setFollow(false)}\n\t\t\t\t\t\t\t\tclassName='follow-mode unfollow'>\n\t\t\t\t\t\t\t\tunfollow\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tonClick={e => setFollow(true)}\n\t\t\t\t\t\t\t\tclassName='follow-mode follow'>\n\t\t\t\t\t\t\t\tfollow me!\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className='current-position-info'>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-headline'>\n\t\t\t\t\t\t\t\t\tCallsign: {returnUpdated()[0][1]}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tOrigin:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{returnUpdated()[0][2]}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tSpeed Knts:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{(returnUpdated()[0][9] * 1.944).toFixed(2)}{' '}\n\t\t\t\t\t\t\t\tKnots\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tSpeed Kmh:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{(returnUpdated()[0][9] * 3.6).toFixed(2)} Km/h\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tAltitude ft:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{returnUpdated()[0][13]\n\t\t\t\t\t\t\t\t\t? `${(\n\t\t\t\t\t\t\t\t\t\t\treturnUpdated()[0][13] * 3.281\n\t\t\t\t\t\t\t\t\t  ).toFixed(2)} feet`\n\t\t\t\t\t\t\t\t\t: 'on ground'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tAltitude m:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{returnUpdated()[0][13]\n\t\t\t\t\t\t\t\t\t? `${returnUpdated()[0][13]} m`\n\t\t\t\t\t\t\t\t\t: 'on ground'}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-aircraft-info'>\n\t\t\t\t\t\t\t\t\tTrack:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{Math.ceil(returnUpdated()[0][10])} degrees\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!showFlightHistory ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='history-button'\n\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\tfetchHistory(returnUpdated()[0][0])\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\tFlight History\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='flight-history'>\n\t\t\t\t\t\t\t\t<p className='fetch-history'>\n\t\t\t\t\t\t\t\t\t<span className='current-aircraft-headline'>\n\t\t\t\t\t\t\t\t\t\tFlight-History (last 3 days)\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{!flightHistory ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className='loading-spinner'>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={loader}\n\t\t\t\t\t\t\t\t\t\t\t\talt='loading-spinner'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='prefilled-flights'>\n\t\t\t\t\t\t\t\t\t\t\t{tempFlightHistory.map(item => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='flights'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.firstSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.lastSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tflightHistory.map(flight => (\n\t\t\t\t\t\t\t\t\t\t<div className='flights'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.firstSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.lastSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<div className='controlls-container'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonClick={maximizeHandler}\n\t\t\t\t\t\t\t\tclassName='controlls minimize'>\n\t\t\t\t\t\t\t\t__\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tonClick={closeHandler}\n\t\t\t\t\t\t\t\tclassName='controlls close'>\n\t\t\t\t\t\t\t\tX\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard\n","export default __webpack_public_path__ + \"static/media/departure.9d690a10.svg\";","export default __webpack_public_path__ + \"static/media/arrival.e1247fad.svg\";","import React, { useState, useContext, useEffect } from 'react'\nimport airports from 'airport-data'\nimport { DataContext } from '../../global/DataContext'\nimport '../css/dashboard-airport.css'\nimport departureIcon from '../../img/Icons/departure.svg'\nimport arrivalIcon from '../../img/Icons/arrival.svg'\nimport loader from '../../img/Icons/ajax-loader.gif'\n\nconst DashboardAirport = () => {\n\tconst {\n\t\tselectedAirport,\n\t\tnewLocation,\n\t\tnearest,\n\t\tchange,\n\t\tdepartures,\n\t\tarrivals,\n\t\tshowDepartures,\n\t\tshowArrivals,\n\t} = useContext(DataContext)\n\tconst [airport, setAirport] = selectedAirport\n\tconst [weather, setWeather] = useState()\n\t//const [arrivals, setArrivals] = useState()\n\tconst [depHistory, setDepHistory] = departures\n\tconst [arrHistory, setArrHistory] = arrivals\n\tconst [location, setLocation] = newLocation\n\tconst [nearestAirport, setNearestAirport] = nearest\n\tconst [locationChanged, setLocationChanged] = change\n\tconst [showArrHistory, setShowArrHistory] = showArrivals\n\tconst [showDepHistory, setShowDepHistory] = showDepartures\n\tconst [maximized, setMaximized] = useState(true)\n\tconst [tempHistory, setTempHistory] = useState([\n\t\t{\n\t\t\tcallsign: 'N2RF',\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'EDDK',\n\t\t\testArrivalAirport: 'EHAM',\n\t\t},\n\t\t{\n\t\t\tcallsign: 'N9GM',\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'EDDF',\n\t\t\testArrivalAirport: 'KORD',\n\t\t},\n\t\t{\n\t\t\tcallsign: 'DAMRI',\n\t\t\tfirstSeen: 1612828311,\n\t\t\tlastSeen: 1612834311,\n\t\t\testDepartureAirport: 'KJFK',\n\t\t\testArrivalAirport: 'ZGSZ',\n\t\t},\n\t])\n\n\tuseEffect(() => {\n\t\tconst fetchWeather = airport => {\n\t\t\tlet requestOptions = {\n\t\t\t\tmethod: 'GET',\n\t\t\t}\n\n\t\t\tfetch(\n\t\t\t\t`https://api.openweathermap.org/data/2.5/weather?q=${airport.city}&units=metric&appid=${process.env.REACT_APP_OWM_API_KEY}`,\n\t\t\t\trequestOptions\n\t\t\t)\n\t\t\t\t.then(result => result.json())\n\t\t\t\t.then(resJson => setWeather(resJson))\n\t\t\t\t.catch(error => console.log('error', error))\n\t\t}\n\t\tif (airport) {\n\t\t\tfetchWeather(airport)\n\t\t}\n\t}, [airport])\n\n\tconst returnUpdated = () => {\n\t\t//here bugfix for transponder to off-position ((selectedTraffic &&  selectedTraffic[0][1] != undefined or so ))\n\t\tif (weather) {\n\t\t\treturn weather\n\t\t}\n\t\t//here bugfix for transponder to off-position (elseif (!selectedTraffic || selectedTraffic[0] === undefined ))\n\t\telse {\n\t\t\tlet initialTemp = {\n\t\t\t\tweather: [{ description: 'no weather-data', icon: '10d' }],\n\t\t\t\tmain: {\n\t\t\t\t\ttemp: 'no weather-data',\n\t\t\t\t\tfeels_like: 'no weather-data',\n\t\t\t\t\tpressure: 'no weather-data',\n\t\t\t\t},\n\t\t\t\tvisibility: 'no weather-data',\n\t\t\t\twind: {\n\t\t\t\t\tdeg: 'no weather-data',\n\t\t\t\t\tspeed: 'no weather-data',\n\t\t\t\t},\n\t\t\t\tsys: {\n\t\t\t\t\tsunrise: 1612782366,\n\t\t\t\t\tsunset: 1612782366,\n\t\t\t\t},\n\t\t\t}\n\t\t\treturn initialTemp\n\t\t}\n\t}\n\n\tconst closeHandler = () => {\n\t\tsetAirport(false)\n\t\tsetWeather(null)\n\t\tsetArrHistory()\n\t\tsetShowDepHistory()\n\t}\n\n\tconst maximizeHandler = () => {\n\t\tsetMaximized(false)\n\t}\n\n\tconst glareshieldToggleHandler = () => {\n\t\tsetMaximized(true)\n\t}\n\n\tconst fetchArrHistory = icao => {\n\t\tlet begin = Math.floor(new Date().getTime() / 1000.0) - 259200\n\t\tlet end = Math.floor(new Date().getTime() / 1000.0)\n\t\tconsole.log('getArrHistory')\n\t\tconsole.log(icao)\n\t\tsetShowArrHistory(true)\n\n\t\tconst header = {\n\t\t\tAuthorization: `Basic ${btoa(process.env.REACT_APP_OPEN_SKY)}`,\n\t\t}\n\n\t\tfetch(\n\t\t\t`https://opensky-network.org/api/flights/arrival?airport=${icao}&begin=${begin}&end=${end}`,\n\t\t\theader\n\t\t)\n\t\t\t.then(result => result.json())\n\t\t\t.then(resJson => setArrHistory(resJson))\n\t\t\t.catch(error => console.log('error', error))\n\t}\n\n\tconst fetchDepHistory = icao => {\n\t\tlet begin = Math.floor(new Date().getTime() / 1000.0) - 259200\n\t\tlet end = Math.floor(new Date().getTime() / 1000.0)\n\t\tsetShowDepHistory(true)\n\n\t\tconsole.log('getDepHistory')\n\t\tconsole.log(icao)\n\n\t\tconst header = {\n\t\t\tAuthorization: `Basic ${btoa(process.env.REACT_APP_OPEN_SKY)}`,\n\t\t}\n\n\t\tfetch(\n\t\t\t`https://opensky-network.org/api/flights/departure?airport=${icao}&begin=${begin}&end=${end}`,\n\t\t\theader\n\t\t)\n\t\t\t.then(result => result.json())\n\t\t\t.then(resJson => setDepHistory(resJson))\n\t\t\t.catch(error => console.log('error', error))\n\t}\n\n\tconst changeLocation = newDest => {\n\t\tcloseHandler()\n\t\tconst [location] = airports.filter(items => items.icao === newDest)\n\t\tsetLocation(location)\n\t\tsetLocationChanged(true)\n\t\tfindNearestAirports(location)\n\t}\n\n\tconst findNearestAirports = location => {\n\t\tconst roundedLat = Math.round(location.latitude)\n\t\tconst roundedLong = Math.round(location.longitude)\n\t\tconst roundedLatArr = airports.filter(\n\t\t\titem => Math.round(item.latitude) === roundedLat\n\t\t)\n\t\tconst roundedLatArr_roundedLong = roundedLatArr.filter(\n\t\t\titem => Math.round(item.longitude) === roundedLong\n\t\t)\n\t\tsetNearestAirport(roundedLatArr_roundedLong)\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`dashboard-container2 ${\n\t\t\t\tairport && maximized ? 'showing' : ''\n\t\t\t}`}>\n\t\t\t<div\n\t\t\t\tonClick={glareshieldToggleHandler}\n\t\t\t\tclassName={`glareshield2 ${\n\t\t\t\t\t!maximized ? 'glareshield-showing' : ''\n\t\t\t\t}`}>\n\t\t\t\textend\n\t\t\t</div>\n\t\t\t<div className='dashboard2'>\n\t\t\t\t<div className='dashboard-data2'>\n\t\t\t\t\t<div className='general-data2'>\n\t\t\t\t\t\t<div className='current-airport-info'>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details-headline'>\n\t\t\t\t\t\t\t\t\tCurrent Airport\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>Name: </span>\n\t\t\t\t\t\t\t\t{airport.name}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>City: </span>\n\t\t\t\t\t\t\t\t{airport.city}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tCountry:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{airport.country}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tIcao-Code:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{airport.icao}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tIata-Code:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{airport.iata}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tAltitude:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{(airport.altitude / 3.28084).toFixed(0)} m\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='current-airport-weather'>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details-headline'>\n\t\t\t\t\t\t\t\t\tCurrent Weather{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={`http://openweathermap.org/img/wn/${\n\t\t\t\t\t\t\t\t\treturnUpdated().weather[0].icon\n\t\t\t\t\t\t\t\t}@2x.png`}\n\t\t\t\t\t\t\t\talt='weather-indicator-icon'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tDescription:{' '}\n\t\t\t\t\t\t\t\t</span>{' '}\n\t\t\t\t\t\t\t\t{returnUpdated().weather[0].description}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tTemperature:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{returnUpdated().main.temp} °C\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tFeels like:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{returnUpdated().main.feels_like} °C\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tAirpressure:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{returnUpdated().main.pressure} hPa\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>\n\t\t\t\t\t\t\t\t\tVisibility:{' '}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t{returnUpdated().visibility}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<span className='current-details'>Wind: </span>\n\t\t\t\t\t\t\t\t{returnUpdated().wind.speed} m/s{' '}\n\t\t\t\t\t\t\t\t{returnUpdated().wind.deg} deg\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!showArrHistory ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='history-button'\n\t\t\t\t\t\t\t\tonClick={e => fetchArrHistory(airport.icao)}>\n\t\t\t\t\t\t\t\t<img src={arrivalIcon} alt='arrival-icon' />\n\t\t\t\t\t\t\t\tArrival History\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='arrival-history'>\n\t\t\t\t\t\t\t\t<p className='current-details-headline'>\n\t\t\t\t\t\t\t\t\tArrival-History\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{!arrHistory ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className='loading-spinner'>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={loader}\n\t\t\t\t\t\t\t\t\t\t\t\talt='loading-spinner'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='prefilledHistory'>\n\t\t\t\t\t\t\t\t\t\t\t{tempHistory.map(item => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='arrivals'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{item.callsign}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.firstSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.lastSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tarrHistory.map(flight => (\n\t\t\t\t\t\t\t\t\t\t<div className='arrivals'>\n\t\t\t\t\t\t\t\t\t\t\t<p>{flight.callsign}</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.firstSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.lastSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!showDepHistory ? (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName='history-button'\n\t\t\t\t\t\t\t\tonClick={e => fetchDepHistory(airport.icao)}>\n\t\t\t\t\t\t\t\t<img src={departureIcon} alt='departure-icon' />\n\t\t\t\t\t\t\t\tDeparture History\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className='departure-history'>\n\t\t\t\t\t\t\t\t<p className='current-details-headline'>\n\t\t\t\t\t\t\t\t\tDeparture-History\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t{!depHistory ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className='loading-spinner'>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={loader}\n\t\t\t\t\t\t\t\t\t\t\t\talt='loading-spinner'\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='prefilledHistory'>\n\t\t\t\t\t\t\t\t\t\t\t{tempHistory.map(item => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='arrivals'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{item.callsign}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.firstSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.lastSeen *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tdepHistory.map(flight => (\n\t\t\t\t\t\t\t\t\t\t<div className='departures'>\n\t\t\t\t\t\t\t\t\t\t\t<p>{flight.callsign} </p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tFROM:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estDepartureAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t@\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.firstSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className='date-location'>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tTO:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeLocation(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='location'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.estArrivalAirport\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tflight.lastSeen * 1000\n\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='controlls-container'>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tonClick={maximizeHandler}\n\t\t\t\t\t\t\tclassName='controlls minimize'>\n\t\t\t\t\t\t\t__\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div onClick={closeHandler} className='controlls close'>\n\t\t\t\t\t\t\tX\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default DashboardAirport\n","import React, { useState, useContext, useEffect } from 'react'\nimport airports from 'airport-data'\nimport { DataContext } from '../../global/DataContext'\nimport '../css/menu.css'\n\nconst Menu = () => {\n\tconst {\n\t\tairportIcons,\n\t\tnewLocation,\n\t\tnearest,\n\t\tchange,\n\t\twinddata,\n\t\tselectedAircraft,\n\t\tcompass,\n\t\tallTraffic,\n\t} = useContext(DataContext)\n\tconst [showAirports, setShowAirports] = airportIcons\n\tconst [selectedTraffic, setSelectedTraffic] = selectedAircraft\n\tconst [location, setLocation] = newLocation\n\tconst [nearestAirport, setNearestAirport] = nearest\n\tconst [locationChanged, setLocationChanged] = change\n\tconst [showWindMap, setShowWindMap] = winddata\n\tconst [showCompass, setShowCompass] = compass\n\tconst [timer, setTimer] = useState()\n\tconst [traffic, setTraffic] = allTraffic\n\tconst [airportInput, setAirportInput] = useState(null)\n\n\tuseEffect(() => {\n\t\tsetTimer(0)\n\t\tsetTime()\n\t}, [traffic])\n\n\tconst setTime = () => {\n\t\tlet time = 20\n\t\tsetInterval(() => {\n\t\t\tif (time > 0) {\n\t\t\t\ttime--\n\t\t\t\tsetTimer(time)\n\t\t\t}\n\t\t}, 1000)\n\t}\n\n\tconst toggleAirports = () => setShowAirports(!showAirports)\n\tconst toggleWindMap = () => setShowWindMap(!showWindMap)\n\tconst toggleCompass = () => setShowCompass(!showCompass)\n\n\tconst airportUserInput = e => {\n\t\tconst airportTemp = e.target.value.toUpperCase()\n\t\tsetAirportInput(airportTemp)\n\t}\n\n\tconst airportSet = e => {\n\t\te.preventDefault()\n\t\tif (airportInput) {\n\t\t\tconst [location] = airports.filter(\n\t\t\t\titems => items.icao === airportInput\n\t\t\t)\n\t\t\tsetSelectedTraffic(false)\n\t\t\tsetLocation(location)\n\t\t\tsetLocationChanged(true)\n\t\t\tfindNearestAirports(location)\n\t\t}\n\t}\n\n\tconst findNearestAirports = location => {\n\t\t//round numbers to closest integer\n\t\tconst roundedLat = Math.round(location.latitude)\n\t\tconst roundedLong = Math.round(location.longitude)\n\n\t\t//round lat and filter with rounded long\n\t\tconst roundedLatArr = airports.filter(\n\t\t\titem => Math.round(item.latitude) === roundedLat\n\t\t)\n\t\tconst roundedLatArr_roundedLong = roundedLatArr.filter(\n\t\t\titem => Math.round(item.longitude) === roundedLong\n\t\t)\n\t\tsetNearestAirport(roundedLatArr_roundedLong)\n\t}\n\n\treturn (\n\t\t<div className='menu-container'>\n\t\t\t<div className='menu-item toggle-airports' onClick={toggleAirports}>\n\t\t\t\tToggle Airports\n\t\t\t</div>\n\t\t\t<div className='menu-item toggle-windmap' onClick={toggleWindMap}>\n\t\t\t\tToggle Windmap\n\t\t\t</div>\n\n\t\t\t<div className='menu-item new-location'>\n\t\t\t\t<form className='set-airport-form-menu'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='menu-item location-input'\n\t\t\t\t\t\tonChange={airportUserInput}\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='set airport to (ICAO)'></input>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='menu-item location-button'\n\t\t\t\t\t\tonClick={airportSet}>\n\t\t\t\t\t\tset new location\n\t\t\t\t\t</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div className='timer'>Timer: {timer}</div>\n\t\t</div>\n\t)\n}\n\nexport default Menu\n","import React from 'react'\nimport MapElement from '../function/MapElement'\nimport Dashboard from '../function/Dashboard'\nimport DashboardAirport from '../function/DashboardAirport'\nimport Menu from '../function/Menu'\nimport '../css/mappage.css'\n\nconst MapPage = () => {\n\treturn (\n\t\t<div className='mappage-wrapper'>\n\t\t\t<MapElement />\n\t\t\t<Dashboard />\n\t\t\t<DashboardAirport />\n\t\t\t<Menu />\n\t\t</div>\n\t)\n}\n\nexport default MapPage\n","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport { DataProvider } from './global/DataContext'\nimport Landing from './components/pages/Landing'\nimport MapPage from './components/pages/MapPage'\nimport './App.css'\n\nfunction App() {\n\treturn (\n\t\t<DataProvider>\n\t\t\t<div className='App'>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path='/' component={Landing} />\n\t\t\t\t\t<Route path='/map' component={MapPage} />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</DataProvider>\n\t)\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}