(this.webpackJsonpaviate=this.webpackJsonpaviate||[]).push([[0],{33:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c.n(n),r=c(18),i=c.n(r),o=c(22),l=(c(33),c(3)),A=c(2),j=Object(n.createContext)(),d=function(e){var t=Object(n.useState)(!1),c=Object(A.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)([]),o=Object(A.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(""),h=Object(A.a)(u,2),O=h[0],b=h[1],p=Object(n.useState)(!1),m=Object(A.a)(p,2),g=m[0],f=m[1],x=Object(n.useState)(null),C=Object(A.a)(x,2),w=C[0],N=C[1],v=Object(n.useState)(null),E=Object(A.a)(v,2),S=E[0],D=E[1],B=Object(n.useState)(!1),Q=Object(A.a)(B,2),I=Q[0],H=Q[1],K=Object(n.useState)(null),k=Object(A.a)(K,2),F=k[0],U=k[1],M=Object(n.useState)(!1),R=Object(A.a)(M,2),y=R[0],T=R[1],L=Object(n.useState)(!1),G=Object(A.a)(L,2),P=G[0],W=G[1],q=Object(n.useState)(!1),Y=Object(A.a)(q,2),J=Y[0],V=Y[1],Z=Object(n.useState)(null),X=Object(A.a)(Z,2),z=X[0],_=X[1],$=Object(n.useState)(null),ee=Object(A.a)($,2),te=ee[0],ce=ee[1],ae=Object(n.useState)(null),ne=Object(A.a)(ae,2),se=ne[0],re=ne[1],ie=Object(n.useState)(!1),oe=Object(A.a)(ie,2),le=oe[0],Ae=oe[1],je=Object(n.useState)(!1),de=Object(A.a)(je,2),ue=de[0],he=de[1],Oe=Object(n.useState)(!1),be=Object(A.a)(Oe,2),pe=be[0],me=be[1];return Object(a.jsx)(j.Provider,{value:{selectedAircraft:[s,r],allTraffic:[l,d],selectedAirport:[O,b],airportIcons:[g,f],newLocation:[w,N],nearest:[S,D],change:[I,H],aircraftImage:[F,U],winddata:[y,T],followMode:[P,W],history:[se,re],compass:[J,V],departures:[z,_],showDepartures:[ue,he],arrivals:[te,ce],showArrivals:[le,Ae],showPastFlights:[pe,me]},children:e.children})},u=c(20),h=c(9),O=c.p+"static/media/flyby.4757a770.mp3",b=c.p+"static/media/airplane.cea70e0f.svg",p=(c(34),c.p+"static/media/opensky.82bd6fb5.png"),m="data:image/png;base64,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",g=c.p+"static/media/meteoblue.2c7e86c5.svg",f=c.p+"static/media/openweather.35e5a10f.png",x=function(){var e=Object(n.useState)({intro:!0,setup:!1}),t=Object(A.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(null),i=Object(A.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)(!1),d=Object(A.a)(j,2),x=d[0],C=d[1];Object(n.useEffect)((function(){setTimeout((function(){s({intro:!1,setup:!0})}),2e3)}),[]);var w=function(){document.getElementsByClassName("audio-element")[0].play(),setTimeout((function(){window.location.href="#/map"}),4e3)},N=function(e){var t={latitude:e.coords.latitude,longitude:e.coords.longitude};localStorage.setItem("selectedLocation",JSON.stringify(t)),v(t)},v=function(e){var t=Math.round(e.latitude),c=Math.round(e.longitude),a=h.filter((function(e){return Math.round(e.latitude)===t})).filter((function(e){return Math.round(e.longitude)===c}));localStorage.setItem("nearestAirports",JSON.stringify(a))},E={duration:1};return Object(a.jsxs)(u.a,{exitBeforeEnter:!0,children:[Object(a.jsx)("audio",{className:"audio-element",children:Object(a.jsx)("source",{src:O})}),c.intro&&Object(a.jsx)(u.b.div,{animate:{opacity:1},initial:{opacity:.3},exit:{opacity:.1},transition:E,children:Object(a.jsxs)("div",{className:"intro",children:[Object(a.jsxs)("div",{className:"logo-box",children:[Object(a.jsx)("h1",{children:"Aviate"}),Object(a.jsx)("h2",{children:"...live"})]}),Object(a.jsxs)("div",{className:"landing-footer",children:[Object(a.jsx)("h3",{children:"powered by"}),Object(a.jsxs)("div",{className:"logo-container",children:[Object(a.jsx)("img",{className:" logo",src:p,alt:"logo from open sky network"}),Object(a.jsx)("img",{className:"logo",src:m,alt:"logo from planespotters.net"}),Object(a.jsx)("img",{className:"logo",src:f,alt:"logo from openweathermap"}),Object(a.jsx)("img",{className:"logo",src:g,alt:"logo from meteoblue.net"})]})]})]})},1),c.setup&&Object(a.jsx)(u.b.div,{animate:{opacity:1},initial:{opacity:.1},exit:{opacity:.5},transition:E,children:Object(a.jsxs)("div",{className:"setup",children:[Object(a.jsx)("img",{src:b,className:"login-icon ".concat(x?"logo-icon-anim":""),alt:"plane icon"}),Object(a.jsx)("img",{src:b,className:"login-icon2 ".concat(x?"logo-icon-anim2":""),alt:"plane icon"}),Object(a.jsx)("img",{src:b,className:"login-icon3 ".concat(x?"logo-icon-anim3":""),alt:"plane icon"}),Object(a.jsxs)("div",{className:"setup-box",children:[Object(a.jsx)("h2",{children:"welcome"}),Object(a.jsx)("p",{className:"upper-p",children:"set your airport (icao)"}),Object(a.jsxs)("form",{className:"set-airport-form",children:[Object(a.jsx)("input",{className:"set-airport-input",onChange:function(e){var t=e.target.value.toUpperCase();l(t)},type:"text",placeholder:"e.g. EDDK"}),Object(a.jsx)("button",{className:"set-airport-button",onClick:function(e){if(e.preventDefault(),o){var t=h.filter((function(e){return e.icao===o})),c=Object(A.a)(t,1)[0];localStorage.setItem("selectedLocation",JSON.stringify(c)),v(c),C(!0),w()}},type:"submit",children:"set Airport"})]}),Object(a.jsx)("p",{className:"lower-p",onClick:function(){navigator.geolocation?(navigator.geolocation.getCurrentPosition(N),C(!0),w()):alert("could not retrieve geolocation")},children:"Just show me planes, pls!"})]}),Object(a.jsxs)("div",{className:"setup-footer",children:[Object(a.jsx)("h3",{children:"powered by"}),Object(a.jsxs)("div",{className:"logo-container",children:[Object(a.jsx)("img",{className:" logo",src:p,alt:"logo from open sky network"}),Object(a.jsx)("img",{className:"logo",src:m,alt:"logo from planespotters.net"}),Object(a.jsx)("img",{className:"logo",src:f,alt:"logo from openweathermap"}),Object(a.jsx)("img",{className:"logo",src:g,alt:"logo from meteoblue.net"})]})]})]})},2)]})},C=c(19),w=c.n(C),N=c(53),v=c(54),E=c(56),S=c(55),D=c(57),B=(c(36),c.p,c.p+"static/media/airport2.fe5ca9d2.svg"),Q=c.p+"static/media/compass_360.134f2280.svg",I=function(e){var t=e.track,c={transform:"rotate(".concat(t,"deg)")};return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:b,width:"30px",style:c,alt:"airplane icon"})})},H=function(e){var t=e.name;return Object(a.jsxs)("div",{className:"icon-container",children:[Object(a.jsx)("img",{className:"icon-airport",src:B,width:"40px",alt:"airport icon"}),Object(a.jsx)("hr",{className:"line-separator"}),Object(a.jsx)("div",{className:"icon-name",children:t})]})},K=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{className:"compass-rose",src:Q,alt:"airport icon"})})},k=c(8),F=c(27),U=(c(37),function(){return Object(a.jsxs)("div",{className:"weather-container",children:[Object(a.jsx)("iframe",{src:"https://www.meteoblue.com/en/weather/maps/widget?windAnimation=0&windAnimation=1&gust=0&gust=1&satellite=0&satellite=1&coronaWeatherScore=0&coronaWeatherScore=1&geoloc=detect&tempunit=C&windunit=km%252Fh&lengthunit=metric&zoom=10&autowidth=auto",frameborder:"0",scrolling:"NO",allowtransparency:"true",sandbox:"allow-same-origin allow-scripts allow-popups allow-popups-to-escape-sandbox",style:{width:"20vw",height:"40vh"},title:"meteoblue"}),Object(a.jsx)("div",{className:"meteo-link",children:Object(a.jsx)("a",{href:"https://www.meteoblue.com/en/weather/webmap/beta?utm_source=weather_widget&utm_medium=linkus&utm_content=map&utm_campaign=Weather%2BWidget",target:"_blank",rel:"noreferrer",children:"meteoblue"})})]})}),M=(c(38),function(){var e=Object(n.useContext)(j),t=e.selectedAircraft,c=e.allTraffic,s=e.airportIcons,r=e.newLocation,i=e.nearest,o=e.change,l=e.aircraftImage,d=e.winddata,u=e.selectedAirport,h=e.followMode,O=e.history,b=e.compass,p=e.departures,m=e.arrivals,g=e.showArrivals,f=e.showDepartures,x=e.showPastFlights,C=Object(A.a)(t,2),B=(C[0],C[1]),Q=Object(A.a)(c,2),M=Q[0],R=Q[1],y=Object(A.a)(s,2),T=y[0],L=(y[1],Object(A.a)(r,2)),G=L[0],P=L[1],W=Object(A.a)(i,2),q=W[0],Y=W[1],J=Object(A.a)(o,2),V=J[0],Z=J[1],X=Object(A.a)(l,2),z=(X[0],X[1]),_=Object(n.useState)(),$=Object(A.a)(_,2),ee=$[0],te=$[1],ce=Object(n.useState)(),ae=Object(A.a)(ce,2),ne=ae[0],se=ae[1],re=Object(n.useState)(),ie=Object(A.a)(re,2),oe=ie[0],le=ie[1],Ae=Object(n.useState)(),je=Object(A.a)(Ae,2),de=je[0],ue=je[1],he=Object(n.useState)(!0),Oe=Object(A.a)(he,2),be=Oe[0],pe=Oe[1],me=Object(A.a)(d,2),ge=me[0],fe=(me[1],Object(A.a)(u,2)),xe=(fe[0],fe[1]),Ce=Object(n.useState)(!1),we=Object(A.a)(Ce,2),Ne=(we[0],we[1],Object(A.a)(h,2)),ve=Ne[0],Ee=Ne[1],Se=Object(A.a)(O,2),De=(Se[0],Se[1]),Be=Object(A.a)(b,2),Qe=Be[0],Ie=(Be[1],Object(A.a)(p,2)),He=(Ie[0],Ie[1]),Ke=Object(A.a)(m,2),ke=(Ke[0],Ke[1]),Fe=Object(A.a)(g,2),Ue=(Fe[0],Fe[1]),Me=Object(A.a)(f,2),Re=(Me[0],Me[1]),ye=Object(A.a)(x,2),Te=(ye[0],ye[1]),Le=function(e){te(e.latitude-3),se(e.latitude+3),le(e.longitude-3),ue(e.longitude+3)};if(be){var Ge=JSON.parse(localStorage.getItem("selectedLocation"));P(Ge),Le(Ge),Y(JSON.parse(localStorage.getItem("nearestAirports"))),pe(!1)}var Pe="https://opensky-network.org/api/states/all?lamin=".concat(ee,"&lomin=").concat(oe,"&lamax=").concat(ne,"&lomax=").concat(de),We=Object(F.a)(Pe,{revalidateOnFocus:!1,fetcher:function(){fetch.apply(void 0,arguments).then((function(e){return e.json()})).then((function(e){return R(e.states)}))},refreshInterval:2e4});We.data,We.error;function qe(){var e=Object(N.a)();return V&&(e.setView([G.latitude,G.longitude]),Le(G),Z(!1)),null}return Object(a.jsx)(a.Fragment,{children:G&&q?Object(a.jsxs)(v.a,{scale:"bottom-left",className:"leaflet-container",center:[G.latitude,G.longitude],zoom:12,children:[Object(a.jsx)(qe,{}),ve?Object(a.jsx)(E.a,{center:[G.latitude,G.longitude],radius:50}):Object(a.jsx)(S.a,{position:[G.latitude,G.longitude]}),Qe?Object(a.jsx)(S.a,{position:[G.latitude,G.longitude],icon:k.divIcon({html:w.a.renderToString(Object(a.jsx)(K,{})),className:"custom-icon"})}):"",Object(a.jsx)(D.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),M?M.map((function(e){return Object(a.jsx)(S.a,{position:[e[6],e[5]],icon:(t=e[10],k.divIcon({iconSize:[40,40],iconAnchor:[20,20],html:w.a.renderToString(Object(a.jsx)(I,{track:t})),className:"custom-icon"})),eventHandlers:{click:function(t){Ee(!1),Te(!1),De(null),xe(!1),z(null),B(e)}}},e[0]);var t})):"loading traffic",T?q.map((function(e,t){return Object(a.jsx)(S.a,{position:[e.latitude,e.longitude],icon:(c=e.name,k.divIcon({html:w.a.renderToString(Object(a.jsx)(H,{name:c})),className:"custom-icon"})),eventHandlers:{click:function(t){Re(!1),Ue(!1),ke(null),He(null),B(!1),xe(e)}}},t);var c})):"loading airports",ge?Object(a.jsx)(U,{}):""]}):"loading"})}),R=(c(39),c.p+"static/media/garmin.add3fe59.svg"),y="data:image/gif;base64,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",T=c.p+"static/media/placeholder-aircraft.fc959d66.png",L=function(){var e=Object(n.useContext)(j),t=e.selectedAircraft,c=e.allTraffic,s=e.aircraftImage,r=e.newLocation,i=e.nearest,o=e.change,l=e.followMode,d=e.history,u=e.showPastFlights,O=Object(A.a)(t,2),b=O[0],p=O[1],m=Object(A.a)(c,2),g=m[0],f=(m[1],Object(A.a)(s,2)),x=f[0],C=f[1],w=Object(A.a)(r,2),N=(w[0],w[1]),v=Object(A.a)(i,2),E=(v[0],v[1]),S=Object(A.a)(o,2),D=(S[0],S[1]),B=Object(A.a)(l,2),Q=B[0],I=B[1],H=Object(A.a)(d,2),K=H[0],k=H[1],F=Object(n.useState)(""),U=Object(A.a)(F,2),M=U[0],L=U[1],G=Object(n.useState)(""),P=Object(A.a)(G,2),W=P[0],q=P[1],Y=Object(A.a)(u,2),J=Y[0],V=Y[1],Z=Object(n.useState)(!0),X=Object(A.a)(Z,2),z=X[0],_=X[1],$=Object(n.useState)(!1),ee=Object(A.a)($,2),te=(ee[0],ee[1]),ce=Object(n.useState)([{firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"EDDK",estArrivalAirport:"EHAM"},{firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"EDDF",estArrivalAirport:"KORD"},{firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"KJFK",estArrivalAirport:"ZGSZ"}]),ae=Object(A.a)(ce,2),ne=ae[0];ae[1];Object(n.useEffect)((function(){var e;e=b[0],fetch("https://aviate-backend.herokuapp.com/image/".concat(e)).then((function(e){return e.json()})).then((function(e){return[L(e.data.photos[0].photographer),C(e.data.photos[0].thumbnail_large.src),q(e.data.photos[0].link)]})).catch((function(e){return console.log("error",e)}))}),[b]);var se=function(){if(b&&void 0!==b[1])return g.filter((function(e){return e[0]===b[0]}));return[[1,0],[2,0],[9,0],[10,0],[13,0]]},re=function(){p(!1),I(!1),_(!0)},ie=function(e){re();var t=h.filter((function(t){return t.icao===e})),c=Object(A.a)(t,1)[0];N(c),D(!0),oe(c)},oe=function(e){var t=Math.round(e.latitude),c=Math.round(e.longitude),a=h.filter((function(e){return Math.round(e.latitude)===t})).filter((function(e){return Math.round(e.longitude)===c}));E(a)};return Object(n.useEffect)((function(){if(Q){var e={latitude:se()[0][6],longitude:se()[0][5]};N(e),D(!0)}}),[g]),Object(a.jsxs)("div",{className:"dashboard-container ".concat(b&&z?"showing":""),children:[Object(a.jsx)("div",{onClick:function(){_(!0)},className:"glareshield ".concat(z?"":"glareshield-showing"),children:"extend"}),Object(a.jsx)("div",{className:"dashboard",children:Object(a.jsx)("div",{className:"dashboard-data",children:Object(a.jsxs)("div",{className:"general-data",children:[Object(a.jsxs)("div",{className:"first-row",children:[Object(a.jsxs)("div",{className:"aircraft-image",children:[Object(a.jsx)("a",{href:W,children:Object(a.jsx)("img",{src:x||T,alt:"none available",target:"_blank",rel:"noreferrer"})}),x?Object(a.jsxs)("p",{children:["\xa9",M," |"," ",Object(a.jsx)("a",{href:"https://www.planespotters.net/",target:"_blank",rel:"noreferrer",children:"Planespotters.net"})]}):""]}),Object(a.jsxs)("div",{className:"first-row-buttons",children:[Object(a.jsx)("a",{href:"https://www.arminebner.com",target:"_blank",rel:"noreferrer",children:Object(a.jsxs)("div",{className:"armin-logo",children:["Avionics by:",Object(a.jsx)("img",{src:R,alt:"armin-logo"})]})}),Q?Object(a.jsx)("p",{onClick:function(e){return I(!1)},className:"follow-mode unfollow",children:"unfollow"}):Object(a.jsx)("p",{onClick:function(e){return I(!0)},className:"follow-mode follow",children:"follow me!"})]})]}),Object(a.jsxs)("div",{className:"second-row",children:[Object(a.jsxs)("div",{className:"current-position-info",children:[Object(a.jsx)("p",{children:Object(a.jsxs)("span",{className:"current-aircraft-headline",children:["Callsign: ",se()[0][1]]})}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Origin:"," "]}),se()[0][2]]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Speed Knts:"," "]})," ",(1.944*se()[0][9]).toFixed(2)," ","Knots"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Speed Kmh:"," "]})," ",(3.6*se()[0][9]).toFixed(2)," ","Km/h"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Altitude ft:"," "]})," ",se()[0][13]?"".concat((3.281*se()[0][13]).toFixed(2)," feet"):"on ground"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Altitude m:"," "]})," ",se()[0][13]?"".concat(se()[0][13]," m"):"on ground"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-aircraft-info",children:["Track:"," "]}),Math.ceil(se()[0][10])," degrees"]})]}),J?Object(a.jsxs)("div",{className:"flight-history",children:[Object(a.jsx)("p",{className:"fetch-history",children:Object(a.jsx)("span",{className:"current-aircraft-headline",children:"Flight-History"})}),K?K.map((function(e){return Object(a.jsxs)("div",{className:"flights",children:[Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return ie(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return ie(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})})):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"loading-spinner",children:Object(a.jsx)("img",{src:y,alt:"loading-spinner"})}),Object(a.jsx)("div",{className:"prefilled-flights",children:ne.map((function(e){return Object(a.jsxs)("div",{className:"flights",children:[Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return ie(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return ie(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})}))})]})]}):Object(a.jsx)("div",{className:"flight-history-button",onClick:function(e){return function(e){te(!0);var t=Math.floor((new Date).getTime()/1e3)-259200,c=Math.floor((new Date).getTime()/1e3);console.log("getHistory"),console.log(e),V(!0);var a={Authorization:"Basic ".concat(btoa(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_TOKEN:"QqL84Dx2EwciULThUoLftax8RH6qC021",REACT_APP_OWM_API_KEY:"dc3acc552d28cbd8abf9487ea2662acc",REACT_APP_OPEN_SKI:"arminebner:hWPtsL7znYphef3"}).REACT_APP_OPEN_SKY))};fetch("https://opensky-network.org/api/flights/aircraft?icao24=".concat(e,"&begin=").concat(t,"&end=").concat(c),a).then((function(e){return e.json()})).then((function(e){return k(e)})).catch((function(e){return console.log("error",e)}))}(se()[0][0])},children:"Flight History"})]}),Object(a.jsxs)("div",{className:"controlls-container",children:[Object(a.jsx)("div",{onClick:function(){_(!1)},className:"controlls minimize",children:"__"}),Object(a.jsx)("div",{onClick:re,className:"controlls close",children:"X"})]})]})})})]})},G=(c(40),c.p+"static/media/departure.9d690a10.svg"),P=c.p+"static/media/arrival.e1247fad.svg",W=function(){var e=Object(n.useContext)(j),t=e.selectedAirport,c=e.newLocation,s=e.nearest,r=e.change,i=e.departures,o=e.arrivals,l=e.showDepartures,d=e.showArrivals,u=Object(A.a)(t,2),O=u[0],b=u[1],p=Object(n.useState)(),m=Object(A.a)(p,2),g=m[0],f=m[1],x=Object(A.a)(i,2),C=x[0],w=x[1],N=Object(A.a)(o,2),v=N[0],E=N[1],S=Object(A.a)(c,2),D=(S[0],S[1]),B=Object(A.a)(s,2),Q=(B[0],B[1]),I=Object(A.a)(r,2),H=(I[0],I[1]),K=Object(A.a)(d,2),k=K[0],F=K[1],U=Object(A.a)(l,2),M=U[0],R=U[1],T=Object(n.useState)(!0),L=Object(A.a)(T,2),W=L[0],q=L[1],Y=Object(n.useState)([{callsign:"N2RF",firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"EDDK",estArrivalAirport:"EHAM"},{callsign:"N9GM",firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"EDDF",estArrivalAirport:"KORD"},{callsign:"DAMRI",firstSeen:1612828311,lastSeen:1612834311,estDepartureAirport:"KJFK",estArrivalAirport:"ZGSZ"}]),J=Object(A.a)(Y,2),V=J[0];J[1];Object(n.useEffect)((function(){O&&function(e){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e.city,"&units=metric&appid=").concat("dc3acc552d28cbd8abf9487ea2662acc"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return f(e)})).catch((function(e){return console.log("error",e)}))}(O)}),[O]);var Z=function(){if(g)return g;return{weather:[{description:"no weather-data",icon:"10d"}],main:{temp:"no weather-data",feels_like:"no weather-data",pressure:"no weather-data"},visibility:"no weather-data",wind:{deg:"no weather-data",speed:"no weather-data"},sys:{sunrise:1612782366,sunset:1612782366}}},X=function(){b(!1),f(null),E(),R()},z=function(e){X();var t=h.filter((function(t){return t.icao===e})),c=Object(A.a)(t,1)[0];D(c),H(!0),_(c)},_=function(e){var t=Math.round(e.latitude),c=Math.round(e.longitude),a=h.filter((function(e){return Math.round(e.latitude)===t})).filter((function(e){return Math.round(e.longitude)===c}));Q(a)};return Object(a.jsxs)("div",{className:"dashboard-container2 ".concat(O&&W?"showing":""),children:[Object(a.jsx)("div",{onClick:function(){q(!0)},className:"glareshield2 ".concat(W?"":"glareshield-showing"),children:"extend"}),Object(a.jsx)("div",{className:"dashboard2",children:Object(a.jsx)("div",{className:"dashboard-data2",children:Object(a.jsxs)("div",{className:"general-data2",children:[Object(a.jsxs)("div",{className:"first-row-airport",children:[Object(a.jsxs)("div",{className:"current-airport-info",children:[Object(a.jsx)("p",{children:Object(a.jsx)("span",{className:"current-details-headline",children:"Current Airport"})}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Name:"," "]}),O.name]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["City:"," "]}),O.city]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Country:"," "]}),O.country]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Icao-Code:"," "]}),O.icao]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Iata-Code:"," "]}),O.iata]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Altitude:"," "]})," ",(O.altitude/3.28084).toFixed(0)," m"]})]}),Object(a.jsxs)("div",{className:"current-airport-weather",children:[Object(a.jsx)("p",{children:Object(a.jsxs)("span",{className:"current-details-headline",children:["Current Weather"," "]})}),Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(Z().weather[0].icon,"@2x.png"),alt:"weather-indicator-icon"}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Description:"," "]})," ",Z().weather[0].description]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Temperature:"," "]}),Z().main.temp," \xb0C"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Feels like:"," "]}),Z().main.feels_like," \xb0C"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Airpressure:"," "]}),Z().main.pressure," hPa"]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Visibility:"," "]}),Z().visibility]}),Object(a.jsxs)("p",{children:[Object(a.jsxs)("span",{className:"current-details",children:["Wind:"," "]}),Z().wind.speed," m/s"," ",Z().wind.deg," deg"]})]})]}),Object(a.jsxs)("div",{className:"second-row-airport",children:[k?Object(a.jsxs)("div",{className:"arrival-history",children:[Object(a.jsx)("p",{className:"current-details-headline",children:"Arrival-History"}),v?v.map((function(e){return Object(a.jsxs)("div",{className:"arrivals",children:[Object(a.jsx)("p",{children:e.callsign}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})})):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"loading-spinner",children:Object(a.jsx)("img",{src:y,alt:"loading-spinner"})}),Object(a.jsx)("div",{className:"prefilledHistory",children:V.map((function(e){return Object(a.jsxs)("div",{className:"arrivals",children:[Object(a.jsx)("p",{children:e.callsign}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})}))})]})]}):Object(a.jsxs)("div",{className:"history-button",onClick:function(e){return function(e){var t=Math.floor((new Date).getTime()/1e3)-259200,c=Math.floor((new Date).getTime()/1e3);console.log("getArrHistory"),console.log(e),F(!0);var a={Authorization:"Basic ".concat(btoa(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_TOKEN:"QqL84Dx2EwciULThUoLftax8RH6qC021",REACT_APP_OWM_API_KEY:"dc3acc552d28cbd8abf9487ea2662acc",REACT_APP_OPEN_SKI:"arminebner:hWPtsL7znYphef3"}).REACT_APP_OPEN_SKY))};fetch("https://opensky-network.org/api/flights/arrival?airport=".concat(e,"&begin=").concat(t,"&end=").concat(c),a).then((function(e){return e.json()})).then((function(e){return E(e)})).catch((function(e){return console.log("error",e)}))}(O.icao)},children:[Object(a.jsx)("img",{src:P,alt:"arrival-icon"}),"Arrival History"]}),M?Object(a.jsxs)("div",{className:"departure-history",children:[Object(a.jsx)("p",{className:"current-details-headline",children:"Departure-History"}),C?C.map((function(e){return Object(a.jsxs)("div",{className:"departures",children:[Object(a.jsxs)("p",{children:[e.callsign," "]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})})):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"loading-spinner",children:Object(a.jsx)("img",{src:y,alt:"loading-spinner"})}),Object(a.jsx)("div",{className:"prefilledHistory",children:V.map((function(e){return Object(a.jsxs)("div",{className:"arrivals",children:[Object(a.jsx)("p",{children:e.callsign}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["FROM:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estDepartureAirport)},className:"location",children:e.estDepartureAirport})]}),Object(a.jsxs)("p",{children:["@",new Date(1e3*e.firstSeen).toLocaleDateString()]})]}),Object(a.jsxs)("div",{className:"date-location",children:[Object(a.jsxs)("p",{children:["TO:"," ",Object(a.jsx)("span",{onClick:function(t){return z(e.estArrivalAirport)},className:"location",children:e.estArrivalAirport})]}),Object(a.jsx)("p",{children:new Date(1e3*e.lastSeen).toLocaleDateString()})]})]})}))})]})]}):Object(a.jsxs)("div",{className:"history-button",onClick:function(e){return function(e){var t=Math.floor((new Date).getTime()/1e3)-259200,c=Math.floor((new Date).getTime()/1e3);R(!0),console.log("getDepHistory"),console.log(e);var a={Authorization:"Basic ".concat(btoa(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ACCESS_TOKEN:"QqL84Dx2EwciULThUoLftax8RH6qC021",REACT_APP_OWM_API_KEY:"dc3acc552d28cbd8abf9487ea2662acc",REACT_APP_OPEN_SKI:"arminebner:hWPtsL7znYphef3"}).REACT_APP_OPEN_SKY))};fetch("https://opensky-network.org/api/flights/departure?airport=".concat(e,"&begin=").concat(t,"&end=").concat(c),a).then((function(e){return e.json()})).then((function(e){return w(e)})).catch((function(e){return console.log("error",e)}))}(O.icao)},children:[Object(a.jsx)("img",{src:G,alt:"departure-icon"}),"Departure History"]})]}),Object(a.jsxs)("div",{className:"controlls-container",children:[Object(a.jsx)("div",{onClick:function(){q(!1)},className:"controlls minimize",children:"__"}),Object(a.jsx)("div",{onClick:X,className:"controlls close",children:"X"})]})]})})})]})},q=(c(41),function(){var e=Object(n.useContext)(j),t=e.airportIcons,c=e.newLocation,s=e.nearest,r=e.change,i=e.winddata,o=e.selectedAircraft,l=e.compass,d=e.allTraffic,u=Object(A.a)(t,2),O=u[0],b=u[1],p=Object(A.a)(o,2),m=(p[0],p[1]),g=Object(A.a)(c,2),f=(g[0],g[1]),x=Object(A.a)(s,2),C=(x[0],x[1]),w=Object(A.a)(r,2),N=(w[0],w[1]),v=Object(A.a)(i,2),E=v[0],S=v[1],D=Object(A.a)(l,2),B=(D[0],D[1],Object(n.useState)()),Q=Object(A.a)(B,2),I=Q[0],H=Q[1],K=Object(A.a)(d,2),k=K[0],F=(K[1],Object(n.useState)(null)),U=Object(A.a)(F,2),M=U[0],R=U[1];Object(n.useEffect)((function(){H(0),y()}),[k]);var y=function(){var e=20;setInterval((function(){e>0&&(e--,H(e))}),1e3)},T=function(e){var t=Math.round(e.latitude),c=Math.round(e.longitude),a=h.filter((function(e){return Math.round(e.latitude)===t})).filter((function(e){return Math.round(e.longitude)===c}));C(a)};return Object(a.jsxs)("div",{className:"menu-container",children:[Object(a.jsx)("div",{className:"menu-item toggle-airports",onClick:function(){return b(!O)},children:"Toggle Airports"}),Object(a.jsx)("div",{className:"menu-item toggle-windmap",onClick:function(){return S(!E)},children:"Toggle Windmap"}),Object(a.jsx)("div",{className:"menu-item new-location",children:Object(a.jsxs)("form",{className:"set-airport-form-menu",children:[Object(a.jsx)("input",{className:"menu-item location-input",onChange:function(e){var t=e.target.value.toUpperCase();R(t)},type:"text",placeholder:"set airport to (ICAO)"}),Object(a.jsx)("button",{className:"menu-item location-button",onClick:function(e){if(e.preventDefault(),M){var t=h.filter((function(e){return e.icao===M})),c=Object(A.a)(t,1)[0];m(!1),f(c),N(!0),T(c)}},children:"set new location"})]})}),Object(a.jsxs)("div",{className:"timer",children:["Timer: ",I]})]})}),Y=(c(42),function(){return Object(a.jsxs)("div",{className:"mappage-wrapper",children:[Object(a.jsx)(M,{}),Object(a.jsx)(L,{}),Object(a.jsx)(W,{}),Object(a.jsx)(q,{})]})});c(43);var J=function(){return Object(a.jsx)(d,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:x}),Object(a.jsx)(l.a,{path:"/map",component:Y})]})})})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(o.a,{children:Object(a.jsx)(J,{})})}),document.getElementById("root")),V()}},[[49,1,2]]]);
//# sourceMappingURL=main.f3a2abf6.chunk.js.map